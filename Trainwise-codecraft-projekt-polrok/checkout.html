<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trainwise - Checkout</title>
    <link rel="stylesheet" href="style.css">
</head>
<body style="background-color: black;">

    <div class="checkout-wrapper">
        <div class="checkout-box">
            <h2>CHECKOUT</h2>
            <p style="color:#888; margin-bottom: 20px;">Complete your purchase securely.</p>
            
            <form id="checkout-form">
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" required placeholder="you@example.com">
                </div>
                
                <div class="form-group">
                    <label>Card Information</label>
                    <input type="text" required placeholder="1234 5678 9101 1121">
                    <div class="card-details">
                        <input type="text" required placeholder="MM/YY" style="width: 48%;">
                        <input type="text" required placeholder="CVC" style="width: 48%;">
                    </div>
                </div>

                <div class="form-group">
                    <label>Name on Card</label>
                    <input type="text" required placeholder="John Doe">
                </div>

                <div class="summary-row total" style="margin: 20px 0;">
                    <span>Total to pay:</span>
                    <span id="checkout-total" style="color:#FFD700;">0,00 â‚¬</span>
                </div>

                <button type="submit" class="pay-btn">PAY NOW</button>
            </form>
            
            <a href="cart.html" class="cancel-link">Cancel</a>
        </div>
    </div>

    <div id="success-modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:9999; justify-content:center; align-items:center;">
        <div style="background:white; padding:40px; border-radius:20px; text-align:center; border: 4px solid #FFD700;">
            <h2 style="color:black; font-size: 2rem;">SUCCESS! ðŸŽ‰</h2>
            <p style="color:#555;">Thank you for your purchase.</p>
            <p>Your plan has been sent to your email.</p>
            <button onclick="window.location.href='index.html'" style="background:#FFD700; border:none; padding:10px 30px; margin-top:20px; font-weight:bold; cursor:pointer;">BACK TO HOME</button>
        </div>
    </div>

    <script>
        // NaÄÃ­tanie sumy z koÅ¡Ã­ka
        let cart = JSON.parse(localStorage.getItem('trainwise_cart')) || [];
        let total = cart.reduce((sum, item) => sum + item.rawPrice, 0);
        document.getElementById('checkout-total').innerText = total.toFixed(2).replace('.', ',') + " â‚¬";

        // Odoslanie formulÃ¡ra
        document.getElementById('checkout-form').addEventListener('submit', function(e) {
            e.preventDefault(); 
            
            //platba
            const btn = document.querySelector('.pay-btn');
            btn.innerText = "PROCESSING...";
            
            setTimeout(() => {
                // VymazaÅ¥ koÅ¡Ã­k
                localStorage.removeItem('trainwise_cart');
                
                // Zobrazenie success okna
                document.getElementById('success-modal').style.display = 'flex';
            }, 2000);
        });
    </script>
</body>
</html>